# GPT-4 Embedding API를 이용한 Entity Linking

# Vector DB

1. **엔티티 및 속성 선택**: 데이터베이스에서 엔티티를 선택하고, 각 엔티티에 대해 중요한 속성 정보를 결정합니다. 이 정보는 엔티티를 잘 설명할 수 있어야 하며, 엔티티 간의 구별이 가능하게 해야 합니다.
2. **텍스트 데이터의 준비**: 선택된 엔티티와 속성 정보를 텍스트 형태로 변환합니다. 이 텍스트는 API를 통해 임베딩을 생성할 때 입력으로 사용됩니다.
3. **임베딩 생성**: ChatGPT 임베딩 API를 사용하여 각 엔티티의 텍스트 데이터로부터 임베딩을 생성합니다. 생성된 임베딩은 각 엔티티를 대표하는 벡터로 사용됩니다.
4. **벡터 데이터베이스 구축**: 생성된 임베딩들을 벡터 데이터베이스에 저장합니다. 이 데이터베이스는 추후 들어오는 쿼리에 대해 빠른 유사도 검색을 가능하게 해주는 구조를 가져야 합니다.
5. **유사도 검색 최적화**: 유사도 검색의 성능을 향상시키기 위해, 효율적인 검색 알고리즘 또는 라이브러리를 적용할 수 있습니다. 예를 들어, FAISS를 사용하면 대규모 벡터 검색을 빠르게 처리할 수 있습니다.

# Natural Language Question

1. **자연어 입력 처리**: 사용자로부터 받은 자연어 텍스트를 처리합니다. 필요한 경우 텍스트를 정제하고, 필요한 정보만 추출합니다.
2. **임베딩 생성**: 처리된 텍스트를 ChatGPT 임베딩 API에 입력하여 임베딩 벡터를 생성합니다. 이 벡터는 입력된 자연어의 의미를 수치적으로 표현합니다.
3. **벡터 데이터베이스와의 유사도 비교**: 생성된 임베딩 벡터를 이미 구축된 벡터 데이터베이스에 저장된 엔티티 임베딩들과 비교합니다. 이 때 코사인 유사도나 유클리디안 거리 등의 메트릭을 사용하여 가장 유사한 엔티티를 찾습니다.

# 텍스트 데이터 준비

### **1. 속성 선택과 텍스트 구조화**

엔티티의 중요 속성을 선택하고, 이를 텍스트로 표현할 때는 속성 간의 관계와 정보의 완성도를 고려해야 합니다. 예를 들어 "서울대학교" 엔티티에 대해 다음과 같은 정보가 있다면:

- 이름: 서울대학교
- 주소: 서울시 관악구
- 종류: 학교

이 정보를 구조화된 텍스트로 표현할 수 있습니다:

```arduino
arduino코드 복사
"서울대학교는 주소가 서울시 관악구에 위치한 학교입니다."

```

### **2. 정보의 일관성 유지**

임베딩 생성 시 사용되는 텍스트는 가능한 한 일관된 형식을 유지해야 합니다. 다른 엔티티에 대해서도 동일한 형식의 설명을 작성하는 것이 좋습니다. 예를 들어 다른 대학에 대한 정보도 비슷한 방식으로 작성합니다:

```arduino
arduino코드 복사
"고려대학교는 주소가 서울시 성북구에 위치한 학교입니다."

```

### **3. 자연스러운 언어 사용**

임베딩 모델이 자연어를 기반으로 학습되었기 때문에, 자연스러운 언어 표현을 사용하는 것이 임베딩의 품질을 높일 수 있습니다. 너무 기계적이거나 반복적인 언어보다는 다양한 어휘와 구문을 사용하면 좋습니다.

### **4. 문맥적 요소 포함**

엔티티의 중요성을 강조하거나, 해당 엔티티가 속한 카테고리를 명확히 하는 문맥적 요소를 포함시키는 것도 유용합니다. 예를 들어, "서울대학교는 대한민국의 최고 교육 기관 중 하나로, 다양한 학문적 성취를 자랑합니다."와 같은 문장은 더 풍부한 맥락을 제공합니다.
